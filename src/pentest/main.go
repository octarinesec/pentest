package main

import (
	"fmt"
	"pentest/engine"
	"pentest/extractors"
	"pentest/testers"
)

func init() {
	extractors.Load()
	testers.Load()
}

func main() {
	fmt.Println("Gathering testers and extractors")

	for _, extractor := range engine.GetExtractors() {
		fmt.Printf("Extarcting using %T...\n", extractor)
		extractor.Extract()
	}

	for target := range engine.GenerateTarget() {
		fmt.Printf("Target: %v\n", target)
		for _, tester := range engine.GetTesters() {
			tester.Test(target)
		}
	}
}
